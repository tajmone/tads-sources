<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>InConversationState</title></head><body>
<table class=ban><tr><td align=left><span class=title>InConversationState</span><span class=type>class</span><td align=right><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4967">4967</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   The "in-conversation" state.  This works with ConversationReadyState   to handle transitions in and out of conversations.  In this state, we   are actively engaged in a conversation. <p>   Throughout this implementation, we assume that we only care about   conversations with a single character, specifically the player   character.  There's generally no good reason to fully model   conversations between NPC's, since that kind of NPC activity is in   most cases purely pre-scripted and thus requires no special state   tracking.  Since we generally only need to worry about tracking a   conversation with the player character, we don't bother with the   possibility that we're simultaneously in conversation with more than   one other character.
<p>
<code>class
<b>InConversationState</b> :  &nbsp; <a href="../object/ActorState.html">ActorState</a></code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>InConversationState</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ActorState.html">ActorState</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/TravelMessageHandler.html">TravelMessageHandler</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ActorTopicDatabase.html">ActorTopicDatabase</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/TopicDatabase.html">TopicDatabase</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#attentionSpan">attentionSpan</a>&nbsp;
<a href="#nextState">nextState</a>&nbsp;
<a href="#previousState">previousState</a>&nbsp;
</code><p>
<p>Inherited from <code>ActorState</code> :<br>
<code>
<a href="../object/ActorState.html#autoSuggest">autoSuggest</a>&nbsp;
<a href="../object/ActorState.html#getImpliedConvState">getImpliedConvState</a>&nbsp;
<a href="../object/ActorState.html#isInitState">isInitState</a>&nbsp;
<a href="../object/ActorState.html#location">location</a>&nbsp;
<a href="../object/ActorState.html#stateDesc">stateDesc</a>&nbsp;
<a href="../object/ActorState.html#stateSuggestedTopics">stateSuggestedTopics</a>&nbsp;
</code><p>
<code>
</code><p>
<p>Inherited from <code>ActorTopicDatabase</code> :<br>
<code>
<a href="../object/ActorTopicDatabase.html#askForTopics">askForTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#askTopics">askTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#commandTopics">commandTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#giveTopics">giveTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#initiateTopics">initiateTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#miscTopics">miscTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#showTopics">showTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#specialTopics">specialTopics</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#tellTopics">tellTopics</a>&nbsp;
</code><p>
<p>Inherited from <code>TopicDatabase</code> :<br>
<code>
<a href="../object/TopicDatabase.html#limitSuggestions">limitSuggestions</a>&nbsp;
<a href="../object/TopicDatabase.html#suggestedTopics">suggestedTopics</a>&nbsp;
<a href="../object/TopicDatabase.html#topicGroupActive">topicGroupActive</a>&nbsp;
<a href="../object/TopicDatabase.html#topicGroupScoreAdjustment">topicGroupScoreAdjustment</a>&nbsp;
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#activateState">activateState</a>&nbsp;
<a href="#deactivateState">deactivateState</a>&nbsp;
<a href="#defaultGreetingResponse">defaultGreetingResponse</a>&nbsp;
<a href="#endConversation">endConversation</a>&nbsp;
<a href="#handleConversation">handleConversation</a>&nbsp;
<a href="#takeTurn">takeTurn</a>&nbsp;
</code><p>
<p>Inherited from <code>ActorState</code> :<br>
<code>
<a href="../object/ActorState.html#afterAction">afterAction</a>&nbsp;
<a href="../object/ActorState.html#afterTravel">afterTravel</a>&nbsp;
<a href="../object/ActorState.html#arrivingTurn">arrivingTurn</a>&nbsp;
<a href="../object/ActorState.html#arrivingWithDesc">arrivingWithDesc</a>&nbsp;
<a href="../object/ActorState.html#beforeAction">beforeAction</a>&nbsp;
<a href="../object/ActorState.html#beforeTravel">beforeTravel</a>&nbsp;
<a href="../object/ActorState.html#construct">construct</a>&nbsp;
<a href="../object/ActorState.html#distantSpecialDesc">distantSpecialDesc</a>&nbsp;
<a href="../object/ActorState.html#getActor">getActor</a>&nbsp;
<a href="../object/ActorState.html#getNominalTraveler">getNominalTraveler</a>&nbsp;
<a href="../object/ActorState.html#getSuggestedTopicList">getSuggestedTopicList</a>&nbsp;
<a href="../object/ActorState.html#getTopicOwner">getTopicOwner</a>&nbsp;
<a href="../object/ActorState.html#initializeActorState">initializeActorState</a>&nbsp;
<a href="../object/ActorState.html#justFollowed">justFollowed</a>&nbsp;
<a href="../object/ActorState.html#notifyTopicResponse">notifyTopicResponse</a>&nbsp;
<a href="../object/ActorState.html#obeyCommand">obeyCommand</a>&nbsp;
<a href="../object/ActorState.html#remoteSpecialDesc">remoteSpecialDesc</a>&nbsp;
<a href="../object/ActorState.html#showSpecialDescInContents">showSpecialDescInContents</a>&nbsp;
<a href="../object/ActorState.html#specialDesc">specialDesc</a>&nbsp;
<a href="../object/ActorState.html#specialDescListWith">specialDescListWith</a>&nbsp;
<a href="../object/ActorState.html#suggestTopicsFor">suggestTopicsFor</a>&nbsp;
</code><p>
<p>Inherited from <code>TravelMessageHandler</code> :<br>
<code>
<a href="../object/TravelMessageHandler.html#sayArriving">sayArriving</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingDir">sayArrivingDir</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingDownStairs">sayArrivingDownStairs</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingLocally">sayArrivingLocally</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingThroughPassage">sayArrivingThroughPassage</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingUpStairs">sayArrivingUpStairs</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayArrivingViaPath">sayArrivingViaPath</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDeparting">sayDeparting</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingDir">sayDepartingDir</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingDownStairs">sayDepartingDownStairs</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingLocally">sayDepartingLocally</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingThroughPassage">sayDepartingThroughPassage</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingUpStairs">sayDepartingUpStairs</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayDepartingViaPath">sayDepartingViaPath</a>&nbsp;
<a href="../object/TravelMessageHandler.html#sayTravelingRemotely">sayTravelingRemotely</a>&nbsp;
</code><p>
<p>Inherited from <code>ActorTopicDatabase</code> :<br>
<code>
<a href="../object/ActorTopicDatabase.html#initiateTopic">initiateTopic</a>&nbsp;
<a href="../object/ActorTopicDatabase.html#showTopicResponse">showTopicResponse</a>&nbsp;
</code><p>
<p>Inherited from <code>TopicDatabase</code> :<br>
<code>
<a href="../object/TopicDatabase.html#addSuggestedTopic">addSuggestedTopic</a>&nbsp;
<a href="../object/TopicDatabase.html#addTopic">addTopic</a>&nbsp;
<a href="../object/TopicDatabase.html#addTopicToList">addTopicToList</a>&nbsp;
<a href="../object/TopicDatabase.html#compareVocabMatch">compareVocabMatch</a>&nbsp;
<a href="../object/TopicDatabase.html#findTopicResponse">findTopicResponse</a>&nbsp;
<a href="../object/TopicDatabase.html#handleTopic">handleTopic</a>&nbsp;
<a href="../object/TopicDatabase.html#removeSuggestedTopic">removeSuggestedTopic</a>&nbsp;
<a href="../object/TopicDatabase.html#removeTopic">removeTopic</a>&nbsp;
<a href="../object/TopicDatabase.html#removeTopicFromList">removeTopicFromList</a>&nbsp;
<a href="../object/TopicDatabase.html#showSuggestedTopicList">showSuggestedTopicList</a>&nbsp;
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="attentionSpan"></a>
<table class=decl><tr><td><code>attentionSpan</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4979">4979</a>]</table><div class=desc>   Our attention span, in turns.  This is the number of turns that   we'll be willing to stay in the conversation while the other   character is ignoring us.  After the conversation has been idle   this long, we'll assume the other actor is no longer talking to   us, so we'll terminate the conversation ourselves. <p>   If the NPC's doesn't have a limited attention span, set this   property to nil.  This will prevent the NPC from ever disengaging   of its own volition. <p>
</div>
<a name="nextState"></a>
<table class=decl><tr><td><code>nextState</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4987">4987</a>]</table><div class=desc>   The state to switch to when the conversation ends.  Instances can   override this to select the next state.  By default, we'll return   to the state that we were in immediately before the conversation   started. <p>
</div>
<a name="previousState"></a>
<table class=decl><tr><td><code>previousState</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5170">5170</a>]</table><div class=desc>   The previous state - this is the state we were in before the   conversation began, and the one we'll return to by default when   the conversation ends.  We'll set this automatically on   activation. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="activateState"></a>
<table class=decl><tr><td><code>activateState (actor, oldState)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5118">5118</a>]</table><div class=desc>activate this state<p>
</div>
<a name="deactivateState"></a>
<table class=decl><tr><td><code>deactivateState (actor, newState)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5152">5152</a>]</table><div class=desc>deactivate this state<p>
</div>
<a name="defaultGreetingResponse"></a>
<table class=decl><tr><td><code>defaultGreetingResponse (actor)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5094">5094</a>]</table><div class=desc>   provide a default HELLO response, if we don't have a special   TopicEntry for it <p>
</div>
<a name="endConversation"></a>
<table class=decl><tr><td><code>endConversation (actor, reason)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5005">5005</a>]</table><div class=desc>   End the current conversation.  'reason' indicates why we're   leaving the conversation - this is one of the endConvXxx enums   defined in adv3.h. <p>   This method is a convenience only; you aren't required to call   this method to end the conversation, since you can simply switch   to another actor state directly if you prefer.  This method's   main purpose is to display an appropriate message terminating the   conversation while switching to the new state.  If you want to   display your own message directly from the code that's changing   the state, there's no reason to call this. <p>   This returns true if we wish to allow the conversation to end,   nil if not. <p>
</div>
<a name="handleConversation"></a>
<table class=decl><tr><td><code>handleConversation (otherActor, topic, convType)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5051">5051</a>]</table><div class=desc>handle a conversational command<p>
</div>
<a name="takeTurn"></a>
<table class=decl><tr><td><code>takeTurn ( )</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#5105">5105</a>]</table><div class=desc>   As our default response, point out that we're already at the   actor's service.  (This isn't an error, because the other   actor might not have been talking to us, even though we   thought we were talking to them.) <p>
</div>
<div class=ftr>TADS 3 Library Manual<br>Generated on 5/16/2013 from TADS version 3.1.3</div>
</body>
</html>
